# RabbitMQ - Outgoing
mp.messaging.outgoing.quote-requests.connector=smallrye-rabbitmq
mp.messaging.outgoing.quote-requests.exchange.name=quote-requests

# RabbitMQ - Incoming
mp.messaging.incoming.quotes.connector=smallrye-rabbitmq
mp.messaging.incoming.quotes.queue.name=quotes
mp.messaging.incoming.quotes.exchange.name=quotes

# RabbitMQ Connection details
rabbitmq-host=${RABBITMQ_HOST:localhost}
rabbitmq-port=${RABBITMQ_PORT:5672}
rabbitmq-username=${RABBITMQ_USERNAME:guest}
rabbitmq-password=${RABBITMQ_PASSWORD:guest}

# NATS JetStream Connection (connector-level)
mp.messaging.connector.quarkus-jetstream.servers=nats://${NATS_HOST:nats}:${NATS_PORT:4222}

############################################################
# Channel: minio-events (Incoming from NATS JetStream)
############################################################
mp.messaging.incoming.minio-events.connector=quarkus-jetstream
mp.messaging.incoming.minio-events.stream=minio_stream
mp.messaging.incoming.minio-events.subject=minio-events
mp.messaging.incoming.minio-events.consumer=minio_consumer
mp.messaging.incoming.minio-events.durable=minio_consumer

############################################################
# Auto-creation for Stream and Consumer
############################################################
mp.messaging.incoming.minio-events.create-stream=true
mp.messaging.incoming.minio-events.create-consumer=true
mp.messaging.incoming.minio-events.stream.subjects=minio-events
mp.messaging.incoming.minio-events.consumer.name=minio_consumer
mp.messaging.incoming.minio-events.consumer.durable=minio_consumer

# Named stream/consumer definitions under the connector namespace (minimal)
mp.messaging.connector.quarkus-jetstream.streams.minio_stream.subjects=minio-events
mp.messaging.connector.quarkus-jetstream.consumers.minio_consumer.stream=minio_stream
mp.messaging.connector.quarkus-jetstream.consumers.minio_consumer.name=minio_consumer
mp.messaging.connector.quarkus-jetstream.consumers.minio_consumer.durable=minio_consumer
mp.messaging.connector.quarkus-jetstream.streams.minio_stream.consumers.minio_consumer.durable=minio_consumer

# Alternate namespace (read directly by the extension; Quarkus may warn as unrecognized but values are available)
quarkus.messaging.nats.jetstream.streams.minio_stream.subjects=minio-events
quarkus.messaging.nats.jetstream.consumers.minio_consumer.stream=minio_stream
quarkus.messaging.nats.jetstream.consumers.minio_consumer.durable=minio_consumer

# Debug logging to trace JetStream configuration resolution
quarkus.log.category."io.quarkiverse.reactive.messaging.nats.jetstream".level=DEBUG
quarkus.log.category."io.quarkiverse.reactive.messaging.nats.jetstream.configuration".level=DEBUG

# MinIO Configuration
quarkus.minio.url=${MINIO_URL:http://minio:9000}
quarkus.minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
quarkus.minio.secret-key=${MINIO_SECRET_KEY:minioadmin}
