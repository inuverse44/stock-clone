# Configure the outgoing RabbitMQ exchange `quote-requests`
mp.messaging.outgoing.quote-requests.connector=smallrye-rabbitmq
mp.messaging.outgoing.quote-requests.exchange.name=quote-requests

# Configure the incoming RabbitMQ queue `quotes`
mp.messaging.incoming.quotes.connector=smallrye-rabbitmq
mp.messaging.incoming.quotes.queue.name=quotes
mp.messaging.incoming.quotes.exchange.name=quotes

# ========== RabbitMQ Connection ==========
rabbitmq-host=${RABBITMQ_HOST:localhost}
rabbitmq-port=${RABBITMQ_PORT:5672}
rabbitmq-username=${RABBITMQ_USERNAME:guest}
rabbitmq-password=${RABBITMQ_PASSWORD:guest}

# ========== NATS JetStream Configuration ==========
quarkus.messaging.nats.connection.servers=${NATS_HOST:nats}:${NATS_PORT:4222}
quarkus.messaging.nats.streams.minio-events.pull-consumers.minio-events-consumer.consumer-configuration.filter-subjects=minio-events

# ========== Channel: minio-events (Incoming from NATS) ==========
# ?B?Stream / Consumer ???????????????
quarkus.messaging.nats.auto-configuration=true

# ?C?Stream ????? stream ????? subject ????
quarkus.messaging.nats.streams.minio-stream.subjects=minio_events

# ?D?Pull Consumer ???? ????????????????
quarkus.messaging.nats.streams.minio-stream.pull-consumers.minio-events.consumer-configuration.filter-subjects=minio_events
quarkus.messaging.nats.streams.minio-stream.pull-consumers.minio-events.consumer-configuration.durable=true

# ?E?Reactive Messaging: incoming ??????
mp.messaging.incoming.minio-events.connector=quarkus-jetstream
mp.messaging.incoming.minio-events.stream=minio-stream
mp.messaging.incoming.minio-events.consumer=minio-events


# Durable subscription is recommended for exactly-once processing concepts (though simplified here)
# mp.messaging.incoming.minio-events.durable=true

# MinIO Configuration
quarkus.minio.url=${MINIO_URL:http://minio:9000}
quarkus.minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
quarkus.minio.secret-key=${MINIO_SECRET_KEY:minioadmin}